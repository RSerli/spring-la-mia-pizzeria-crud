<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link th:rel="stylesheet" th:href="@{/webjars/bootstrap/5.1.3/css/bootstrap.min.css}" />
    <link th:rel="stylesheet" th:href="@{/css/custom.css}">
    <title>PIZZERIA SPRING</title>
</head>

<body>
    <header>
        <div class="container">
            <nav th:replace="navbar :: navbar('Create')"></nav>
        </div>
    </header>

    <main>
        <div class="container py-3">
            <div class="row justify-content-center">
                <!-- warning su una pizza giÃ  esistente -->
                <th:block th:if="${warningAlertMessage != null}">
                    <div class="alert alert-warning d-flex align-items-center alert-dismissible fade show" role="alert">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                            class="bi bi-exclamation-triangle" viewBox="0 0 16 16">
                            <path
                                d="M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.15.15 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.2.2 0 0 1-.054.06.1.1 0 0 1-.066.017H1.146a.1.1 0 0 1-.066-.017.2.2 0 0 1-.054-.06.18.18 0 0 1 .002-.183L7.884 2.073a.15.15 0 0 1 .054-.057m1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767z" />
                            <path
                                d="M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z" />
                        </svg>
                        <div th:text="${warningAlertMessage}"></div>
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                </th:block>
                <!-- Titolo -->
                <h2 id="mainTitle" class="text-center">New Pizza</h2>
                <div class="row">
                    <div class="col-12 col-md-8">
                        <form id="pizza-form" th:object="${newPizza}" th:action="@{/PizzeriaSpring/NewPizza}"
                            method="post">
                            <!-- Input per il nuovo nome della pizza e il prezzo-->
                            <div class="row">
                                <div class="col-12 col-md-8">
                                    <div class="mb-3">
                                        <label for="InputName">Nome</label>
                                        <input type="text" class="form-control" id="InputName" th:field="*{nome}"
                                            th:errorClass="is-invalid">
                                        <div th:if="${#fields.hasErrors('nome')}" class="invalid-feedback">
                                            <ul>
                                                <li th:each="err : ${#fields.errors('nome')}" th:text="${err}"></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-md-4">
                                    <div class="mb-3">
                                        <label for="InputPrice">Prezzo</label>
                                        <input type="number" step="0.01" class="form-control" id="InputPrice"
                                            th:field="*{prezzo}" th:errorClass="is-invalid">
                                        <div th:if="${#fields.hasErrors('prezzo')}" class="invalid-feedback">
                                            <ul>
                                                <li th:each="err : ${#fields.errors('prezzo')}" th:text="${err}"></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- textArea per la descrizione della pizza -->
                            <div class="mb-3">
                                <label for="TextareaDescription">Descrizione</label>
                                <textarea class="form-control" id="TextareaDescription" style="height: 100px"
                                    th:field="*{descrizione}" th:errorClass="is-invalid"></textarea>
                                <div th:if="${#fields.hasErrors('descrizione')}" class="invalid-feedback">
                                    <ul>
                                        <li th:each="err : ${#fields.errors('descrizione')}" th:text="${err}"></li>
                                    </ul>
                                </div>
                            </div>
                            <!-- Input per l'url dell'immagine nome della pizza -->
                            <div class="mb-3">
                                <label for="InputUrl">URL foto</label>
                                <input type="text" class="form-control" id="InputUrl" th:field="*{urlFoto}">
                            </div>
                            <!-- Pulsati submit e cancella/annulla -->
                            <button class="btn btn-primary" type="submit"><svg xmlns="http://www.w3.org/2000/svg"
                                    width="16" height="16" fill="currentColor" class="bi bi-floppy" viewBox="0 0 16 16">
                                    <path d="M11 2H9v3h2z" />
                                    <path
                                        d="M1.5 0h11.586a1.5 1.5 0 0 1 1.06.44l1.415 1.414A1.5 1.5 0 0 1 16 2.914V14.5a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 14.5v-13A1.5 1.5 0 0 1 1.5 0M1 1.5v13a.5.5 0 0 0 .5.5H2v-4.5A1.5 1.5 0 0 1 3.5 9h9a1.5 1.5 0 0 1 1.5 1.5V15h.5a.5.5 0 0 0 .5-.5V2.914a.5.5 0 0 0-.146-.353l-1.415-1.415A.5.5 0 0 0 13.086 1H13v4.5A1.5 1.5 0 0 1 11.5 7h-7A1.5 1.5 0 0 1 3 5.5V1H1.5a.5.5 0 0 0-.5.5m3 4a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5V1H4zM3 15h10v-4.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5z" />
                                </svg> Salva</button>
                            <a th:href="@{/PizzeriaSpring/index}" class="btn btn-danger"><svg
                                    xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-x" viewBox="0 0 16 16">
                                    <path
                                        d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708" />
                                </svg> Cancella</a>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <!-- Bootstrap Bundle with Popper -->
    <script th:src="@{/webjars/bootstrap/5.1.3/js/bootstrap.bundle.min.js}"></script>
</body>

</html>